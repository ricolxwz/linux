---
title: 权限
icon: simple/amazoniam
---

## 命令一览

## 安全模型

Linux系统上最初的安全模型为DAC, Discretionary Access Control. 后来又增加了一个新的安全模型为MAC, Mandatory Access Control. 

DAC和MAC不是互斥的, DAC是最基本的安全模型, 是我们最常用到的访问控制机制, 而MAC是构建在DAC之上的可选的加强安全机制. 访问前, Linux系统通常都是先做DAC检查, 如果没有通过则操作直接失败; 如果通过DAC检查并且系统支持MAC模块, 再做MAC权限检查.

为了区分两者, 我们将支持MAC的Linux系统称为SELinux, 表示它是针对Linux的安全加强系统. 

### DAC安全模型

DAC安全模型的核心内容是: 进程理论上所拥有的权限和执行它的用户的权限相同. 

#### 用户、组、口令信息

通过`/etc/passwd`和`/etc/group`保存用户和组信息, 通过`/etc/shadow`保存密码口令及其变动信息, 每行一条记录. 

用户和组分别用UID和GID表示, 一个用户可以同时属于多个组, 默认每个用户必须属于一个与之UID同值的GID. 

##### `/etc/passwd`

|0|1|2|3|4|5|6|
|-|-|-|-|-|-|-|
|用户名|口令|UID|GID|注释|用户目录|默认shell|

##### `/etc/group`

|0|1|2|3|
|-|-|-|-|
|组名|口令|GID|组成员用户列表|

##### `/etc/shadow`

|0|1|2|3|4|5|
|-|-|-|-|-|-|
|登录名|最后一次修改时间|最小时间间隔|最大时间间隔|警告时间|不活动时间|

#### 文件权限控制信息

##### 文件类型

- 普通文件(`-`), 包括文本文件和二进制文件, 可以用`touch`创建
- 目录文件(`d`)
- [套接字文件](https://zh.wikipedia.org/zh-hans/%E7%B6%B2%E8%B7%AF%E6%8F%92%E5%BA%A7)(`s`), 用于进程间通信(可以跨网络), 一般由应用程序在执行中间创建
- [管道文件](https://blog.csdn.net/shui2104/article/details/121954184)(`p`), 也用于进程之间的通信, 一般分为无名管道(有亲缘关系的进程通信)和有名管道(无亲缘关系的进程通信), 可以用`mkfifo`创建
- 字符文件(`c`)和块文件(`b`), 均为设备文件, 可以用`mknod`创建
- 链接文件(`l`), 是软链接文件, 而不是硬连接文件

##### 访问权限控制组

分为三组进行控制: `user`包含对文件属主设定的权限, `group`包含对文件属组设定的权限, `others`包含对其他者设定的权限. 可设定的权限为: 

- `r`: 表示具有读权限
- `w`: 表示具有写权限
- `x`: 表示具有执行/搜索权限

[^1]: Jang, M., & Orsaria, A. (2016). RHCSA/RHCE Red Hat Linux Certification Study Guide, Seventh Edition (7th edition). McGraw Hill.
[^2]: "262588213843476". (n.d.). Linux权限控制的基本原理. Gist. Retrieved June 9, 2024, from https://gist.github.com/baymaxium/45ad3b68bcd392c3c3feebf935f1618f